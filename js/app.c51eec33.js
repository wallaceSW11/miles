(function(){var e={6700:function(e,t,s){var a={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":4048,"./sd.js":4048,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function i(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id=6700},5643:function(e,t,s){"use strict";var a=s(144),i=s(3726),n=s(1473),l=s(8895),r=s(9396),o=s(3381),u=s(6929),c=s(683),d=s(9088),m=s(3102),p=s(7316),h=s(2515),f=function(){var e=this,t=e._self._c;return t(i.Z,[t(n.Z,{attrs:{fixed:"",dark:""}},[t(c.Z,{attrs:{xs12:"","d-flex":"","align-center":""}},[t(c.Z,[t(l.Z,[t(c.Z,[t("span",[t("b",{staticStyle:{color:"#fb8c00"}},[e._v("My")]),e._v(" Miles")]),t(d.Z,{staticClass:"pl-1",attrs:{color:"primary"}},[e._v("mdi-airplane")])],1)],1)],1),e.mobileSize?e._e():t(c.Z,{staticClass:"d-flex flex-grow-0"},[t("menu-buttons")],1),e.mobileSize?e._e():t(c.Z,{attrs:{"d-flex":""}},[t(h.Z),t("language-buttons")],1),e.mobileSize?t(c.Z,{staticClass:"d-flex flex-grow-0"},[t(o.Z,{attrs:{icon:""},on:{click:()=>e.menuMobile=!e.menuMobile}},[t(d.Z,{attrs:{large:""}},[e._v("mdi-menu")])],1)],1):e._e()],1)],1),t(p.Z,{attrs:{app:"","disable-resize-watcher":""},model:{value:e.menuMobile,callback:function(t){e.menuMobile=t},expression:"menuMobile"}},[t(u.Z,{attrs:{"d-flex":"","flex-column":""}},[t(c.Z,{attrs:{xs12:"","d-flex":"","justify-center":"","pa-5":""}},[t(r.Z,{attrs:{color:"primary"}},[t(d.Z,{attrs:{dark:""}},[e._v(" mdi-account-circle ")])],1)],1),t(c.Z,{attrs:{xs12:"","d-flex":"","justify-center":"","mb-3":""}},[t("language-buttons")],1),t(c.Z,{attrs:{xs12:"","d-flex":"","justify-center":""}},[t("menu-buttons")],1)],1)],1),t(m.Z,[t("router-view",{staticClass:"content",staticStyle:{"margin-top":"60px"}})],1)],1)},g=[],x=function(){var e=this,t=e._self._c;return t(c.Z,{attrs:{xs12:"","d-flex":"","flex-column":"","flex-sm-row":"","flex-wrap":""}},[t(c.Z,{attrs:{"d-flex":""}},[t(o.Z,{attrs:{width:"100%",small:"",outlined:"",dark:"",to:"/"}},[e._v("Dashboard")])],1),t(c.Z,{attrs:{"d-flex":"","my-2":"","my-sm-0":"","mx-0":"","mx-sm-2":""}},[t(o.Z,{attrs:{width:"100%",small:"",outlined:"",dark:"",to:"/points"}},[e._v(e._s(e.text.POINTS[e.lang]))])],1),t(c.Z,{attrs:{"d-flex":""}},[t(o.Z,{attrs:{width:"100%",small:"",outlined:"",dark:"",to:"/miles"}},[e._v(e._s(e.text.MILES[e.lang]))])],1)],1)},v=[];const _={POINT:{br:"Ponto",en:"Point"},POINTS:{br:"Pontos",en:"Points"},POINTS_PROGRAM:{br:"Programa de pontos",en:"Points program"},MILE:{br:"Milha",en:"Mile"},MILES:{br:"Milhas",en:"Miles"},DATE:{br:"Data",en:"Date"},ADD:{br:"Adicionar",en:"Add"},TO_TRANSFER:{br:"Transferir",en:"Transfer"},TRANSFER:{br:"Transferência",en:"Transfer"},POINTS_TRANSFER:{br:"Transferência de pontos",en:"Points transfer"},SELL:{br:"Vender",en:"Sell"},SUMMARY:{br:"Resumo",en:"Summary"},TOTAL_POINTS:{br:"Total de pontos",en:"Total points"},TOTAL_VALUE:{br:"Valor total",en:"Total value"},COST_EFFECTIVE:{br:"Custo efetivo",en:"Cost effective"},COST_PER_THOUSAND:{br:"Custo por milheiro",en:"Cost per thousand"},AVERAGE_COST_PER_THOUSAND:{br:"Custo médio por milheiro (CPM)",en:"Average cost per thousand"},AVERAGE_COST_PER_THOUSAND_BONUS:{br:"Custo médio por milheiro (Bônus)",en:"Average cost per thousand (Bonus)"},AVERAGE_COST_PER_MILES:{br:"Custo médio por milheiro (CPM)",en:"Average cost per mile"},TOTAL_MILES:{br:"Total de milhas",en:"Total miles"},TRANSACTION:{br:"Transação",en:"Transaction"},QUANTITY:{br:"Quantidade",en:"Quantity"},ACTIONS:{br:"Ações",en:"Actions"},AIRLINE:{br:"CIA aérea",en:"Airline"},PRICE:{br:"Preço",en:"Price"},BUY:{br:"Compra",en:"Buy"},ENTRY:{br:"Entrada",en:"Entry"},ENTRY_PER_TRANSFER:{br:"Entrada por transferência",en:"Entry per transfer"},BONUS:{br:"Bônus",en:"Bonus"},BONUS_COST:{br:"Custo bônus",en:"Bonus cost"},POINT_PROGRAM:{br:"Programa de pontos",en:"Point program"},INSTALLMENT:{br:"Parcelamento",en:"Installment"},FIRST_INSTALLMENT:{br:"Primeira parcela",en:"First installment"},NUMBER_INSTALLMENT:{br:"Parcelas",en:"Number"},VALUE:{br:"Valor",en:"Value"},VALUE_PER_INSTALLMENT:{br:"Valor por parcela",en:"Value per installment"},KEEP_ADDING:{br:"Continuar adicionando",en:"Keep adding"},SAVE:{br:"Salvar",en:"Save"},CANCEL:{br:"Cancelar",en:"Cancel"},YES:{br:"Sim",en:"Yes"},NO:{br:"Não",en:"No"},AVERAGE_COST:{br:"Custo médio",en:"Average cost"},CANT_EDIT_TRANSFER:{br:"Ops, você não pode editar uma tranferência.",en:"Ops, you can't edit a transfer"},DETELE_AND_CREATE_TRANSFER:{br:"Por favor, exclua e crie uma nova transferência.",en:"Please, delete this one and create a brand new transfer."},CANT_EDIT_TRANSFER_FROM_POINTS:{br:"Ops, você não pode editar uma entrada por tranferência.",en:"Ops, you can't edit miles from points."},DETELE_TRANSFER_BY_POINT_PAGE:{br:"Por favor, exclua e crie uma nova transferência.",en:"Please, delete by points page."},DETELE_POINT:{br:"Exclusão de pontos",en:"Delete points"},DETELE_MILES:{br:"Exclusão de milhas",en:"Delete miles"},ARE_YOU_SURE:{br:"Você tem certeza?",en:"Are you sure?"},NO_POINTS_AVALIABLE:{br:"Ops, sem pontos disponíveis",en:"Ops, no points avaliable..."},THERE_ARE_NO_POINTS:{br:"Nenhum ponto disponível para transferir",en:"There are no points avaliable to transfer!"},CANT_DELETE_MILES_FROM_POINTS:{br:"Ops, você não pode excluir milhas dos pontos.",en:"Ops, you can't delete miles from points."},DELETE_BY_POINTS_PAGE:{br:"Por favor, exclua pela página de pontos.",en:"Please, delete by points page."}},y={POINTS:{key:"points"},MILES:{key:"miles"},CONFIGURATIONS:{KEEP_ADDING:{POINTS:{key:"keepAddingPoints"},MILES:{key:"keepAddingMiles"}},LANG:{key:"Language"}}};var b=y;function T(e,t){localStorage.setItem(e,JSON.stringify(t))}function E(e){return JSON.parse(localStorage.getItem(e))}var S={save:T,get:E};function N(){return S.get(b.CONFIGURATIONS.LANG.key)||"en"}var P=N,C={name:"MenuButtons",data(){return{text:_,lang:P()}}},A=C,Z=s(1001),M=(0,Z.Z)(A,x,v,!1,null,"5e484e77",null),k=M.exports,I=s(9767),O=function(){var e=this,t=e._self._c;return t(c.Z,{attrs:{"d-flex":"","flex-grow-0":""}},[t(c.Z,{class:{disabled:"en"==e.lang},attrs:{"d-flex":"","flex-grow-0":"","mr-2":""}},[t("img",{staticClass:"image-lang",attrs:{src:s(9592),alt:"BRL"},on:{click:function(t){return e.toggleLanguage("br")}}})]),t(c.Z,{class:{disabled:"br"==e.lang},attrs:{"d-flex":"","flex-grow-0":""}},[t("img",{staticClass:"image-lang",attrs:{src:s(7109),alt:"USA"},on:{click:function(t){return e.toggleLanguage("en")}}})]),t(I.Z,{attrs:{value:e.loading,"z-index":"0"}})],1)},j=[],D={name:"LanguageButtons",data(){return{lang:P(),loading:!1}},methods:{toggleLanguage(e){this.lang!=e&&(this.lang="br"==this.lang?"en":"br",S.save(b.CONFIGURATIONS.LANG.key,this.lang),window.location.reload())}}},R=D,w=(0,Z.Z)(R,O,j,!1,null,"e4f731bc",null),L=w.exports,V={name:"App",components:{MenuButtons:k,LanguageButtons:L},data:()=>({menuMobile:!1}),computed:{mobileSize(){return this.$vuetify.breakpoint.xsOnly}}},F=V,B=(0,Z.Z)(F,f,g,!1,null,null,null),Y=B.exports,q=s(4903),U=function(){var e=this,t=e._self._c;return t(u.Z,[t(c.Z,[t("h2",{staticClass:"primary-color"},[e._v("Dashboard")])]),t(c.Z,{attrs:{xs12:"","d-flex":"","flex-column":""}},[t(c.Z,[t("h3",[e._v(e._s(e.text.POINTS[e.lang]))]),t("hr")]),t(c.Z,{staticClass:"d-flex justify-center flex-wrap"},e._l(e.pointsProgram,(function(s){return t("summary-card",{key:s.title,attrs:{title:s.title,value:e.points.filter((e=>e.program==s.value&&"TRASNFER"!=e.type)).reduce(((e,t)=>e+t.quantity),0),image:s.image,icon:"mdi-numeric-10-circle-outline"}})})),1)],1),t(c.Z,{attrs:{xs12:"","d-flex":"","flex-column":""}},[t(c.Z,[t("h3",[e._v(e._s(e.text.MILES[e.lang]))]),t("hr")]),t(c.Z,{staticClass:"d-flex justify-center flex-wrap"},e._l(e.airlines,(function(s){return t("summary-card",{key:s.title,attrs:{title:s.title,value:e.miles.filter((e=>e.airline==s.value)).reduce(((e,t)=>e+t.quantity),0),image:s.image,icon:"mdi-numeric-10-circle-outline"}})})),1)],1)],1)},z=[],$=(s(7658),function(){var e=this,t=e._self._c;return t(c.Z,{staticClass:"summary-card",attrs:{"d-flex":"","flex-column":""}},[t(c.Z,[e.image?t(c.Z,{attrs:{"d-flex":"","justify-center":"","pa-2":""}},[t("img",{attrs:{src:e.image,alt:e.title,srcset:""}})]):t(c.Z,{attrs:{"d-flex":"","justify-center":""}},[t("h2",[e._v(e._s(e.title))])])],1),t(c.Z,{attrs:{"d-flex":"","justify-center":""}},[t("h3",[e._v(e._s(e._f("formatedThousand")(e.value)))])])],1)}),G=[],H={name:"SummaryCard",props:{title:{type:String,required:!0},value:{type:Number,required:!0},image:{type:String,required:!0,default:""}},filters:{formatedThousand(e){return e.toLocaleString({minimumFractionDigits:0,maximumFractionDigits:0})||0}}},J=H,Q=(0,Z.Z)(J,$,G,!1,null,"575bfb78",null),K=Q.exports;const W=P(),X={BUY:{title:_.BUY[W],value:"BUY"},ENTRY:{title:_.ENTRY[W],value:"ENTRY"},ENTRY_BY_TRANSFER:{title:_.ENTRY_PER_TRANSFER[W],value:"ENTRY_BY_TRANSFER"},TRANSFER:{title:_.TRANSFER[W],value:"TRANSFER"},BONUS:{title:_.BONUS[W],value:"BONUS"}},ee={LIVELO:{title:"Livelo",value:"LIVELO",image:"https://www.livelo.com.br/file/general/pt_logo-v1.svg"},ESFERA:{title:"Esfera",value:"ESFERA",image:"https://www.esfera.com.vc/file/v2921935191691134188/general/Logo_Esfera_300dpi.png"},IUPP:{title:"IUPP",value:"IUPP",image:"https://milheirodeprimeira.com.br/wp-content/plugins/phastpress/phast.php/c2VydmljZT1pbWFnZXMmc3JjPWh0dHBzJTNBJTJGJTJGbWlsaGVpcm9kZXByaW1laXJhLmNvbS5iciUyRndwLWNvbnRlbnQlMkZ1cGxvYWRzJTJGaXVwcC1pdGF1LTkwMHg1MDAucG5nJmNhY2hlTWFya2VyPTE2NjA0MTUzMjQtMTgxOTQmdG9rZW49MGY0ZjM3ZDc2MzMzMGI5NQ.q.png"}},te={SMILE:{title:"Smile",value:"SMILE",image:"https://logodownload.org/wp-content/uploads/2017/09/smiles-logo.png"},LATAM:{title:"Latam",value:"LATAM",image:"https://logospng.org/wp-content/uploads/latam.jpg"},TUDO_AZUL:{title:"Tudo Azul",value:"TUDO_AZUL",image:"https://tudoazul.azulviagens.com.br/handlers/ImageRequest.ashx?path=%2fimg%2flogo-tudoazul.png&mediaSize=lg&imgSize=original"}},se=[{text:"Id",align:" d-none",sortable:!1,value:"id"},{text:_.DATE[W],align:"start",sortable:!1,value:"date"},{text:_.TRANSACTION[W],align:"start",sortable:!1,value:"type"},{text:_.QUANTITY[W],align:"right",sortable:!1,value:"quantity"},{text:_.TOTAL_VALUE[W],align:"right",sortable:!1,value:"totalValue"},{text:_.COST_PER_THOUSAND[W],align:"right",sortable:!1,value:"costPerThousand"},{text:_.ACTIONS[W],align:"center",sortable:!1,value:"actions"}],ae=[{text:"Id",align:" d-none",sortable:!1,value:"id"},{text:_.DATE[W],align:"start",sortable:!1,value:"date"},{text:_.TRANSACTION[W],align:"start",sortable:!1,value:"type"},{text:_.QUANTITY[W],align:"right",sortable:!1,value:"quantity"},{text:_.AIRLINE[W],align:"right",sortable:!1,value:"airline"},{text:_.PRICE[W],align:"right",sortable:!1,value:"price"},{text:_.COST_PER_THOUSAND[W],align:"right",sortable:!1,value:"costPerThousand"},{text:_.ACTIONS[W],align:"center",sortable:!1,value:"actions"}],ie=Object.values(X),ne=Object.values(ee),le=Object.values(te);var re=s(381),oe=s.n(re),ue=s(7632);function ce(){return(0,ue.Z)()}class de{constructor(e){e=e||{},this.id=e.id||ce(),this.date=e.date?oe()(e.date).format("YYYY-MM-DD"):"",this.type=e.type,this.quantity=Number(e.quantity)||0,this.totalValue=Number(e.totalValue)||0,this.installmentNumber=Number(e.installmentNumber)||0,this.installmentValue=Number(e.installmentValue)||0,this.firstInstallment=e.firstInstallment,this.program=e.program,this.outCost=e.outCost}costPerThousand(){if(!this.quantity||!this.totalValue)return 0;if(this.type==X.TRANSFER.value)return 0;let e=Number((this.totalValue/(this.quantity/1e3).toFixed(2)).toFixed(2));return isFinite(e)?e:0}dateISO(){return this.date?oe()(this.date).format("DD/MM/YYYY"):""}}class me{constructor(e){e=e||{},this.id=e.id||ce(),this.pointId=e.pointId,this.date=e.date?oe()(e.date).format("YYYY-MM-DD"):"",this.type=e.type,this.quantity=Number(e.quantity)||0,this.airline=e.airline,this.price=Number(e.price)||0}dateISO(){return this.date?oe()(this.date).format("DD/MM/YYYY"):""}costPerThousand(){return this.quantity&&this.price?Number((this.price/this.quantity*1e3).toFixed(2)):0}}var pe={name:"DashboarView",components:{SummaryCard:K},data(){return{miles:[],points:[],pointsProgram:ne,airlines:le,text:_,lang:P()}},mounted(){this.loadPoints(),this.loadMiles()},methods:{loadPoints(){let e=S.get(b.POINTS.key);e&&e.map((e=>this.points.push(new de(e))))},loadMiles(){let e=S.get(b.MILES.key);e&&e.map((e=>this.miles.push(new me(e))))}}},he=pe,fe=(0,Z.Z)(he,U,z,!1,null,"3623291e",null),ge=fe.exports,xe=s(272),ve=s(5255),_e=s(2667),ye=s(6691),be=s(3749),Te=s(8984),Ee=s(3240),Se=s(4394),Ne=s(9007),Pe=function(){var e=this,t=e._self._c;return t(u.Z,{staticClass:"d-flex flex-column"},[t(c.Z,{staticClass:"d-flex flex-row flex-grow-0 ustify-space-between",attrs:{xs12:""}},[t(c.Z,{attrs:{xs2:""}},[t("h2",{staticClass:"primary-color"},[e._v(e._s(e.text.POINTS[e.lang]))])]),t(h.Z),t(c.Z,{staticClass:"d-flex align-center",attrs:{"flex-grow-0":""}},[t(o.Z,{attrs:{outlined:"",color:"primary",small:""},on:{click:e.addPoint}},[t(d.Z,[e._v("mdi-plus")]),e._v(e._s(e.text.ADD[e.lang]))],1)],1),t(c.Z,{staticClass:"d-flex align-center",attrs:{"flex-grow-0":""}},[t(o.Z,{staticClass:"ml-4",attrs:{outlined:"",color:"secondary",small:""},on:{click:e.addTransfer}},[t(d.Z,[e._v("mdi-swap-horizontal")]),e._v(e._s(e.text.TO_TRANSFER[e.lang]))],1)],1)],1),t(c.Z,{attrs:{"mt-5":""}},[t(ye.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.points,"items-per-page":10,height:"calc(100vh - 300px)"},scopedSlots:e._u([{key:"item.date",fn:function({item:t}){return[e._v(" "+e._s(t.dateISO())+" ")]}},{key:"item.type",fn:function({item:t}){return[e._v(" "+e._s(e.typeOfTransaction[t.type].title)+" ")]}},{key:"item.quantity",fn:function({item:t}){return[e._v(" "+e._s(e._f("formatedThousand")(t.quantity))+" ")]}},{key:"item.totalValue",fn:function({item:t}){return[e._v(" "+e._s(e._f("formatedMoney")(t.totalValue))+" ")]}},{key:"item.costPerThousand",fn:function({item:t}){return[e._v(" "+e._s(e._f("formatedMoney")(t.costPerThousand()))+" ")]}},{key:"item.actions",fn:function({item:s}){return[t(d.Z,{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editPoint(s)}}},[e._v(" mdi-pencil ")]),t(d.Z,{attrs:{small:"",color:"primary"},on:{click:function(t){return e.toggleDelete(s)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1),t(be.Z,{attrs:{persistent:"","max-width":e.$vuetify.breakpoint.smAndDown?"80%":"60%",fullscreen:e.$vuetify.breakpoint.xsOnly},model:{value:e.openDialogPoints,callback:function(t){e.openDialogPoints=t},expression:"openDialogPoints"}},[t(xe.Z,[t(ve.EB,[t("span",{staticStyle:{color:"#fb8c00"}},[e._v(e._s(e.text.POINTS[e.lang]))])]),t(ve.ZB,[t(Ee.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(u.Z,{staticClass:"d-flex flex-wrap"},[t(c.Z,{attrs:{xs12:"",md4:"","pr-md-4":""}},[t("date-picker",{attrs:{label:e.text.DATE[e.lang]},model:{value:e.point.date,callback:function(t){e.$set(e.point,"date",t)},expression:"point.date"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","px-md-4":""}},[t(Se.Z,{attrs:{items:e.typesOfTransaction,"item-text":e=>e.title,label:e.text.TRANSACTION[e.lang],"prepend-inner-icon":"mdi-swap-horizontal",rules:[e.rules.required]},model:{value:e.point.type,callback:function(t){e.$set(e.point,"type",t)},expression:"point.type"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","pl-md-4":""}},[t(Se.Z,{attrs:{items:e.pointsProgram,"item-text":e=>e.title,label:e.text.POINTS_PROGRAM[e.lang],"prepend-inner-icon":"mdi-star-four-points",rules:[e.rules.required]},model:{value:e.point.program,callback:function(t){e.$set(e.point,"program",t)},expression:"point.program"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","pr-md-4":""}},[t("number-field",{attrs:{label:e.text.QUANTITY[e.lang],icon:"mdi-numeric"},model:{value:e.point.quantity,callback:function(t){e.$set(e.point,"quantity",e._n(t))},expression:"point.quantity"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","px-md-4":""}},[t("currency-field",{attrs:{label:e.text.TOTAL_VALUE[e.lang]},model:{value:e.point.totalValue,callback:function(t){e.$set(e.point,"totalValue",t)},expression:"point.totalValue"}})],1),t(c.Z,{attrs:{xs12:"",md6:"","pr-md-4":"","pt-md-4":""}},[t("span",[e._v(e._s(e.text.COST_EFFECTIVE[e.lang]))]),t("p",{staticClass:"text-right mr-2",staticStyle:{"font-size":"18px"}},[t("b",[e._v(e._s(e._f("formatedMoney")(e.point.costPerThousand())))])])]),t(c.Z,{attrs:{xs12:"",md6:"","pl-md-4":"","pt-md-4":""}},[t("span",[e._v(e._s(`${e.text.BONUS[e.lang]} (100% ${e.text.TRANSFER[e.lang]})`))]),t("p",{staticClass:"text-right mr-2",staticStyle:{"font-size":"18px"}},[t("b",[e._v(e._s(e._f("formatedMoney")(e.point.costPerThousand()/2)))])])]),t(c.Z,{staticClass:"d-flex",attrs:{xs12:""}},[t(c.Z,{staticClass:"d-flex flex-grow-0"},[t("h3",{staticStyle:{color:"#fb8c00"}},[e._v(e._s(e.text.INSTALLMENT[e.lang]))])]),t(c.Z,[t("div",{staticStyle:{"border-bottom":"1px solid #fb8c00",height:"18px","margin-left":"4px"}})]),t(c.Z,{staticClass:"d-flex flex-grow-0"},[t(o.Z,{attrs:{icon:""},on:{click:function(t){e.showInstallment=!e.showInstallment}}},[t(d.Z,{attrs:{color:"primary"}},[e._v(e._s(e.showInstallment?"mdi-minus-circle-outline":"mdi-plus-circle-outline"))])],1)],1)],1),e.showInstallment?t(c.Z,{staticClass:"d-flex flex-wrap mt-4",attrs:{xs12:""}},[t(c.Z,{attrs:{xs12:"",md4:"","pr-md-4":""}},[t("date-picker",{attrs:{label:e.text.FIRST_INSTALLMENT[e.lang]},model:{value:e.point.firstInstallment,callback:function(t){e.$set(e.point,"firstInstallment",t)},expression:"point.firstInstallment"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","px-md-4":""}},[t(Ne.Z,{directives:[{name:"mask",rawName:"v-mask",value:"##",expression:"'##'"}],staticClass:"label-left",attrs:{label:e.text.NUMBER_INSTALLMENT[e.lang],required:"",reverse:""},model:{value:e.point.installmentNumber,callback:function(t){e.$set(e.point,"installmentNumber",t)},expression:"point.installmentNumber"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","pl-md-4":""}},[t("span",[e._v(e._s(e.text.VALUE_PER_INSTALLMENT[e.lang]))]),t("p",{staticClass:"text-right mr-2",staticStyle:{"font-size":"18px"}},[t("b",[e._v(e._s(e._f("formatedMoney")(e.point.installmentValue)))])])])],1):e._e(),e.isEditing?e._e():t(c.Z,[t(_e.Z,{attrs:{label:e.text.KEEP_ADDING[e.lang]},model:{value:e.keepAddingPoint,callback:function(t){e.keepAddingPoint=t},expression:"keepAddingPoint"}})],1)],1)],1)],1),t(ve.h7,[t(c.Z,{staticClass:"d-flex"},[t(h.Z),t(o.Z,{staticClass:"mr-4",attrs:{color:"primary"},on:{click:e.toggleSave}},[e._v(e._s(e.text.SAVE[e.lang]))]),t(o.Z,{attrs:{outlined:""},on:{click:e.toggleCancel}},[e._v(e._s(e.text.CANCEL[e.lang]))])],1)],1)],1)],1),t("dialog-transfer",{attrs:{totalPoints:e.totalPoints,averageCost:e.averageCostPerThousand},on:{transfer:e.applyTransfer},model:{value:e.openDialogTransfer,callback:function(t){e.openDialogTransfer=t},expression:"openDialogTransfer"}}),t("message",{attrs:{title:e.text.DETELE_POINT[e.lang],icon:"mdi-help-circle-outline",message:e.text.ARE_YOU_SURE[e.lang],"confirm-callback":e.deleteItem,"cancel-callback":e.onCancelDelete},model:{value:e.openMessageDelete,callback:function(t){e.openMessageDelete=t},expression:"openMessageDelete"}}),t("message",{attrs:{title:e.text.NO_POINTS_AVALIABLE[e.lang],message:e.text.THERE_ARE_NO_POINTS[e.lang],"confirm-callback":()=>{},descriptonPrimaryButton:"ok",hideSecondaryButton:""},model:{value:e.openMessageNotEnoughPoint,callback:function(t){e.openMessageNotEnoughPoint=t},expression:"openMessageNotEnoughPoint"}}),t("message",{attrs:{title:e.text.CANT_EDIT_TRANSFER[e.lang],message:e.text.DETELE_AND_CREATE_TRANSFER[e.lang],"confirm-callback":()=>{},descriptonPrimaryButton:"ok",hideSecondaryButton:""},model:{value:e.openMessageDeleteTransfer,callback:function(t){e.openMessageDeleteTransfer=t},expression:"openMessageDeleteTransfer"}}),t(Te.Z,{attrs:{fixed:""}},[t(c.Z,{staticClass:"px-md-6",attrs:{xs12:""}},[t(c.Z,{staticClass:"d-flex flex-column"},[t("span",[t("b",{staticClass:"primary-color"},[e._v(e._s(e.text.SUMMARY[e.lang]))])]),t(c.Z,{staticClass:"d-flex pl-md-4"},[t(c.Z,{staticClass:"d-flex flex-column"},[t("span",[e._v(e._s(e.text.TOTAL_POINTS[e.lang]+":")+" "+e._s(e._f("formatedThousand")(e.totalPoints)))]),t("span",[e._v(e._s(e.text.TOTAL_VALUE[e.lang]+":")+" "+e._s(e._f("formatedMoney")(e.totalValue)))])]),t(c.Z,{staticClass:"d-flex flex-column"},[t("span",[e._v(e._s(e.text.AVERAGE_COST_PER_THOUSAND[e.lang]+":")+" "+e._s(e._f("formatedMoney")(e.averageCostPerThousand)))]),t("span",{attrs:{color:"primary"}},[e._v(e._s(e.text.AVERAGE_COST_PER_THOUSAND_BONUS[e.lang]+":")+" "),t("span",{staticClass:"highlighted-text"},[e._v(" "+e._s(e._f("formatedMoney")(e.averageCostPerThousandBonus)))])])])],1)],1)],1)],1)],1)},Ce=[],Ae=s(7294),Ze=s(3328),Me=function(){var e=this,t=e._self._c;return t("div",[t(Ze.Z,{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(Ne.Z,e._g(e._b({attrs:{value:e.dateText,label:e.label,"prepend-inner-icon":"mdi-calendar",readonly:""}},"v-text-field",a,!1),s))]}}]),model:{value:e.showCalendar,callback:function(t){e.showCalendar=t},expression:"showCalendar"}},[t(Ae.Z,{attrs:{"no-title":""},on:{input:function(t){e.showCalendar=!1}},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1)],1)},ke=[],Ie={name:"DatePricker",data(){return{showCalendar:!1,dateValue:void 0}},model:{prop:"date",event:"onChange"},props:{label:{type:String,required:!0},date:{type:String}},watch:{dateValue(){this.$emit("onChange",this.dateValue)},date(e){this.dateValue=e&&oe()(e).format("YYYY-MM-DD")||""}},computed:{dateText(){return this.dateValue&&oe()(this.dateValue).format("DD/MM/YYYY")||""}}},Oe=Ie,je=(0,Z.Z)(Oe,Me,ke,!1,null,null,null),De=je.exports,Re=function(){var e=this,t=e._self._c;return t("div",[t(Ne.Z,{directives:[{name:"money",rawName:"v-money",value:{decimal:",",thousands:".",precision:2},expression:"{\n      decimal: ',',\n      thousands: '.',\n      precision: 2\n    }"}],ref:"myinput",staticClass:"label-left",attrs:{id:"feield-price",label:e.label,reverse:"",type:"tel","append-icon":"mdi-currency-usd"},on:{change:e.updateValue},model:{value:e.internPrice,callback:function(t){e.internPrice=t},expression:"internPrice"}})],1)},we=[],Le={name:"CurrencyField",model:{prop:"price",event:"onChange"},props:{price:{type:Number,required:!0},label:{type:String,required:!0}},data(){return{internPrice:void 0}},watch:{price(e){this.$refs.myinput.$el.getElementsByTagName("input")[0].value=e.toFixed(2),this.internPrice=e.toFixed(2)}},methods:{updateValue(e){e=Number(e&&String(e).replace(".","").replace(",","."))||0,this.$emit("onChange",e)}}},Ve=Le,Fe=(0,Z.Z)(Ve,Re,we,!1,null,"82cc1248",null),Be=Fe.exports,Ye=function(){var e=this,t=e._self._c;return t(be.Z,{attrs:{persistent:"","max-width":e.$vuetify.breakpoint.smAndDown?"80%":"60%",fullscreen:e.$vuetify.breakpoint.xsOnly},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t(xe.Z,[t(ve.EB,[t("span",{staticStyle:{color:"#fb8c00"}},[e._v(e._s(e.text.POINTS_TRANSFER[e.lang]))])]),t(ve.ZB,[t(Ee.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(u.Z,{staticClass:"d-flex flex-wrap"},[t(c.Z,{attrs:{xs12:"",sm4:"","pr-sm-4":""}},[t("date-picker",{attrs:{label:e.text.DATE[e.lang]},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),t(c.Z,{attrs:{xs12:"",sm4:"","px-sm-4":""}},[t("number-field",{attrs:{label:e.text.QUANTITY[e.lang],icon:"mdi-numeric",autofocus:""},model:{value:e.quantity,callback:function(t){e.quantity=e._n(t)},expression:"quantity"}})],1),t(c.Z,{attrs:{xs12:"",sm4:"","pl-sm-4":""}},[t(Ne.Z,{directives:[{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"label-left",attrs:{label:e.text.BONUS[e.lang],"append-icon":"mdi-percent",reverse:""},model:{value:e.bonusPercent,callback:function(t){e.bonusPercent=e._n(t)},expression:"bonusPercent"}})],1),t(c.Z,{attrs:{xs12:"",sm4:"","pr-sm-4":""}},[t(Se.Z,{attrs:{items:e.airlinesProgram,"item-text":e=>e.title,label:e.text.AIRLINE[e.lang],"prepend-inner-icon":"mdi-airplane",rules:[e.rules.required]},model:{value:e.airlineProgram,callback:function(t){e.airlineProgram=t},expression:"airlineProgram"}})],1),t(c.Z,{attrs:{xs12:"","flex-column":"","flex-sm-row":"","d-flex":"","mt-4":""}},[t(c.Z,{attrs:{xs12:"",sm4:"","pr-sm-4":""}},[t("title-value",{attrs:{title:e.text.MILES[e.lang],value:e.miles,formatMoney:!1}})],1),t(c.Z,{attrs:{xs12:"",sm4:"","px-sm-4":""}},[t("title-value",{attrs:{title:e.text.COST_PER_THOUSAND[e.lang],value:e.averageCost}})],1),t(c.Z,{attrs:{xs12:"",sm4:"","pl-sm-4":""}},[t("title-value",{attrs:{title:e.text.BONUS_COST[e.lang],value:e.bonusCost}})],1)],1)],1)],1)],1),t(ve.h7,[t(c.Z,{staticClass:"d-flex"},[t(h.Z),t(o.Z,{staticClass:"mr-4",attrs:{color:"primary"},on:{click:e.toggleSave}},[e._v(e._s(e.text.SAVE[e.lang]))]),t(o.Z,{attrs:{outlined:""},on:{click:e.toggleCancel}},[e._v(e._s(e.text.CANCEL[e.lang]))])],1)],1)],1)],1)},qe=[],Ue=function(){var e=this,t=e._self._c;return t("div",[t(Ne.Z,{directives:[{name:"money",rawName:"v-money",value:{decimal:"",thousands:".",precision:0},expression:"{\n      decimal: '',\n      thousands: '.',\n      precision: 0\n    }"}],ref:"myinput",staticClass:"label-left",attrs:{id:"field-number",label:e.label,reverse:"",type:"tel","append-icon":e.icon,autocomplete:"off",autofocus:e.autofocus},on:{change:e.updateValue},model:{value:e.internnumber,callback:function(t){e.internnumber=t},expression:"internnumber"}})],1)},ze=[],$e={name:"NumberField",model:{prop:"number",event:"onChange"},props:{number:{type:Number,required:!0},label:{type:String,required:!0},icon:{type:String,required:!0},maxWidth:{type:Number,default:10},autofocus:{type:Boolean,default:!1}},data(){return{internnumber:void 0}},watch:{number(e){this.$refs.myinput.$el.getElementsByTagName("input")[0].value=e,this.internnumber=e}},methods:{updateValue(e){e=Number(e&&String(e).replace(".","").replace(",","."))||0,this.$emit("onChange",e)}}},Ge=$e,He=(0,Z.Z)(Ge,Ue,ze,!1,null,null,null),Je=He.exports,Qe=function(){var e=this,t=e._self._c;return t("div",[t("span",[e._v(e._s(e.title))]),t("p",{staticClass:"text-right mr-2",staticStyle:{"font-size":"18px"}},[t("b",[e._v(e._s(e.valueText))])])])},Ke=[],We={name:"TitleValue",props:{title:{type:String,required:!0},value:{type:Number,required:!0},formatMoney:{type:Boolean,default:!0}},methods:{formatedMoney(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2})||0},formatedThousand(e){return e.toLocaleString({minimumFractionDigits:0,maximumFractionDigits:0})||0}},computed:{valueText(){return this.formatMoney?this.formatedMoney(this.value):this.formatedThousand(this.value)}}},Xe=We,et=(0,Z.Z)(Xe,Qe,Ke,!1,null,null,null),tt=et.exports,st={name:"DialogTransfer",props:{open:{type:Boolean,default:!1},totalPoints:{type:Number,required:!0},averageCost:{type:Number,required:!0}},model:{prop:"open",event:"onChange"},components:{DatePicker:De,CurrencyField:Be,NumberField:Je,TitleValue:tt},data(){return{valid:!0,date:void 0,quantity:0,bonusPercent:0,rules:{required:e=>!!e||"Required."},airlineProgram:void 0,airlinesProgram:le,text:_,lang:P()}},filters:{formatedMoney(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2})||0}},methods:{toggleSave(e){if(e.preventDefault(),!this.$refs.form.validate())return;let t={date:this.date,quantity:this.quantity,totalValue:this.totalValuePoint,bonusCost:this.bonusCost,airline:this.airlineProgram,miles:this.miles};this.$emit("onChange",!open),this.$emit("transfer",t),this.$refs.form.reset()},toggleCancel(){this.$emit("onChange",!open),this.$refs.form.reset()}},computed:{miles(){return this.quantity&&this.bonusPercent?Number((this.bonusPercent/100*this.quantity+this.quantity).toFixed(2)):0},bonusCost(){return this.averageCost&&this.bonusPercent?Number((this.averageCost/((100+this.bonusPercent)/100)).toFixed(2)):0},totalValuePoint(){return this.quantity&&this.averageCost?Number((this.quantity/1e3*this.averageCost).toFixed(2)):0}},watch:{open(e){e&&this.$nextTick((()=>this.date=oe()().format("YYYY-MM-DD")))}}},at=st,it=(0,Z.Z)(at,Ye,qe,!1,null,null,null),nt=it.exports,lt=function(){var e=this,t=e._self._c;return t("div",[t(be.Z,{attrs:{persistent:"",width:"40%"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t(c.Z,{staticClass:"background",attrs:{"d-flex":"","flex-column":""}},[t(c.Z,{staticClass:"d-flex py-3 px-2",attrs:{xs12:""}},[t(c.Z,{staticClass:"d-flex flex-grow-0"},[t(d.Z,{staticClass:"mr-2",attrs:{color:"primary"}},[e._v(e._s(e.icon)+" ")])],1),t(c.Z,{staticClass:"d-flex"},[t("span",{staticClass:"title-message"},[e._v(" "+e._s(e.title))])])],1),t(c.Z,{attrs:{"d-flex":"","px-4":"","py-2":""}},[e._v(" "+e._s(e.message)+" ")]),t(c.Z,{staticClass:"d-flex flex-row-reverse pa-2"},[e.hideSecondaryButton?e._e():t(o.Z,{staticClass:"ml-3",attrs:{outlined:""},on:{click:e.actionCancel}},[e._v(e._s(e.descriptonSecondaryButton))]),t(o.Z,{attrs:{color:"primary"},on:{click:e.actionConfirm}},[e._v(e._s(e.descriptonPrimaryButton))])],1)],1)],1)],1)},rt=[],ot={name:"Message",model:{prop:"show",event:"onChange"},props:{title:{type:String},icon:{type:String,default:"mdi-alert-outline"},message:{type:String,required:!0,default:""},show:{type:Boolean,required:!0,default:!1},confirmCallback:{type:Function,required:!1,default:()=>{}},cancelCallback:{type:Function,required:!1,default:()=>{}},descriptonPrimaryButton:{type:String,default:_.YES[P()]},descriptonSecondaryButton:{type:String,default:_.NO[P()]},hideSecondaryButton:{type:Boolean,default:!1}},methods:{closeModal(){this.$emit("onChange",!1)},actionCancel(){this.cancelCallback(),this.closeModal()},actionConfirm(){this.confirmCallback(),this.closeModal()}}},ut=ot,ct=(0,Z.Z)(ut,lt,rt,!1,null,"d4c6cc4c",null),dt=ct.exports,mt={name:"PointsView",components:{DatePicker:De,CurrencyField:Be,DialogTransfer:nt,NumberField:Je,Message:dt},data(){return{openDialogPoints:!1,openDialogTransfer:!1,openMessageNotEnoughPoint:!1,openMessageDeleteTransfer:!1,showInstallment:!0,keepAddingPoint:!0,isEditing:!1,openMessageDelete:!1,point:new de,typesOfTransaction:ie,typeOfTransaction:X,pointsProgram:ne,rules:{required:e=>!!e||"Required."},valid:!0,headers:se,points:[],miles:[],text:_,lang:P()}},filters:{formatedMoney(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2})||0},formatedThousand(e){return e.toLocaleString({minimumFractionDigits:0,maximumFractionDigits:0})||0}},beforeMount(){this.loadPoints(),this.loadMiles()},methods:{loadPoints(){let e=S.get(b.POINTS.key);e&&e.map((e=>this.points.push(new de(e))))},loadMiles(){let e=S.get(b.MILES.key);e&&e.map((e=>this.miles.push(new me(e))))},toggleSave(e){if(e.preventDefault(),this.$refs.form.validate()){if(this.isEditing){let e=this.points.findIndex((e=>e.id==this.point.id));this.points.splice(e,1,this.point)}else this.points.push(this.point);this.point=new de,this.openDialogPoints=!this.isEditing&&this.keepAddingPoint,this.isEditing=!1,this.resetValidation()}},toggleCancel(){this.openDialogPoints=!1,this.point=new de,this.isEditing=!1,this.resetValidation()},toggleDelete(e){this.point=new de(e),this.openMessageDelete=!0},addPoint(){this.point=new de,this.openDialogPoints=!0},editPoint(e){e.type!=X.TRANSFER.value?(this.openDialogPoints=!0,this.isEditing=!0,this.$nextTick((()=>this.point=new de(e)))):this.openMessageDeleteTransfer=!0},deleteItem(){let e=this.points.findIndex((e=>e.id==this.point.id));e>-1&&this.points.splice(e,1);let t=this.miles.findIndex((e=>e.pointId==this.point.id));t>-1&&this.miles.splice(t,1),S.save(b.MILES.key,this.miles),this.point=new de},onCancelDelete(){this.point=new de},addTransfer(){0!=this.totalPoints?this.openDialogTransfer=!0:this.openMessageNotEnoughPoint=!0},updateInstallmentValue(){0!=this.point.totalValue&&0!=this.point.installmentNumber?this.point.installmentValue=Number((this.point.totalValue/this.point.installmentNumber).toFixed(2)):this.point.installmentValue=0},resetValidation(){this.valid=!0,this.$refs.form.resetValidation()},applyTransfer(e){let t=new de({date:e.date,type:X.TRANSFER.value,quantity:-1*e.quantity,totalValue:this.totalPoints==e.quantity?-1*this.totalValue:-1*e.totalValue});this.points.push(t),this.miles.push(new me({pointId:t.id,date:e.date,type:X.ENTRY_BY_TRANSFER.value,quantity:e.miles,airline:e.airline,price:e.totalValue})),S.save(b.MILES.key,this.miles)}},computed:{totalPoints(){return this.points.length?this.points.reduce(((e,t)=>e+t.quantity),0):0},totalValue(){return this.points.length?this.points.reduce(((e,t)=>e+t.totalValue),0):0},totalcostPerThousand(){return this.points.length?this.points.reduce(((e,t)=>e+t.costPerThousand()),0):0},averageCostPerThousand(){if(!this.points.length)return 0;let e=Number((this.totalValue/this.totalPoints*1e3).toFixed(2));return isFinite(e)?e:0},averageCostPerThousandBonus(){return Number((this.averageCostPerThousand/2).toFixed(2))},tableHeight(){return"500px"}},watch:{points(){S.save(b.POINTS.key,this.points)},"point.installmentNumber"(){this.updateInstallmentValue()},"point.totalValue"(){this.updateInstallmentValue()},openDialogPoints(e){e&&(this.valid=!0,this.keepAddingPoint=S.get(b.CONFIGURATIONS.KEEP_ADDING.POINTS.key),this.$nextTick((()=>this.point.date=oe()().format("YYYY-MM-DD"))))},keepAddingPoint(e){S.save(b.CONFIGURATIONS.KEEP_ADDING.POINTS.key,!!e)}}},pt=mt,ht=(0,Z.Z)(pt,Pe,Ce,!1,null,"0f684b73",null),ft=ht.exports,gt=function(){var e=this,t=e._self._c;return t(u.Z,{staticClass:"d-flex flex-column"},[t(c.Z,{staticClass:"d-flex flex-row flex-grow-0 ustify-space-between",attrs:{xs12:""}},[t(c.Z,{attrs:{xs2:""}},[t("h2",{staticClass:"primary-color"},[e._v(e._s(e.text.MILES[e.lang]))])]),t(h.Z),t(c.Z,{staticClass:"d-flex align-center",attrs:{"flex-grow-0":""}},[t(o.Z,{attrs:{outlined:"",color:"primary",small:""},on:{click:e.addMile}},[t(d.Z,[e._v("mdi-plus")]),e._v(e._s(e.text.ADD[e.lang]))],1)],1),t(c.Z,{staticClass:"d-flex align-center",attrs:{"flex-grow-0":""}},[t(o.Z,{staticClass:"ml-4",attrs:{outlined:"",color:"secondary",small:""},on:{click:e.addSell}},[t(d.Z,[e._v("mdi-currency-usd")]),e._v(e._s(e.text.SELL[e.lang]))],1)],1)],1),t(c.Z,{attrs:{"mt-5":""}},[t(ye.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.miles,"items-per-page":10,height:"calc(100vh - 300px)"},scopedSlots:e._u([{key:"item.date",fn:function({item:t}){return[e._v(" "+e._s(t.dateISO())+" ")]}},{key:"item.type",fn:function({item:t}){return[e._v(" "+e._s(e.transactionType[t.type].title||t.title)+" ")]}},{key:"item.quantity",fn:function({item:t}){return[e._v(" "+e._s(e._f("formatedThousand")(t.quantity))+" ")]}},{key:"item.airline",fn:function({item:t}){return[e._v(" "+e._s(e.airline[t.airline].title)+" ")]}},{key:"item.price",fn:function({item:t}){return[e._v(" "+e._s(e._f("formatedMoney")(t.price))+" ")]}},{key:"item.costPerThousand",fn:function({item:t}){return[e._v(" "+e._s(e._f("formatedMoney")(t.costPerThousand()))+" ")]}},{key:"item.actions",fn:function({item:s}){return[t(d.Z,{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editMile(s)}}},[e._v(" mdi-pencil ")]),t(d.Z,{attrs:{small:"",color:"primary"},on:{click:function(t){return e.toggleDelete(s)}}},[e._v(" mdi-delete ")])]}}],null,!0)})],1),t(be.Z,{attrs:{persistent:"","max-width":e.$vuetify.breakpoint.smAndDown?"80%":"60%",fullscreen:e.$vuetify.breakpoint.xsOnly},model:{value:e.openDialogMiles,callback:function(t){e.openDialogMiles=t},expression:"openDialogMiles"}},[t(xe.Z,[t(ve.EB,[t("span",{staticStyle:{color:"#fb8c00"}},[e._v(e._s(e.text.MILES[e.lang]))])]),t(ve.ZB,[t(Ee.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(u.Z,{staticClass:"d-flex flex-wrap"},[t(c.Z,{attrs:{xs12:"",md4:"","pr-md-4":""}},[t("date-picker",{attrs:{label:e.text.DATE[e.lang]},model:{value:e.mile.date,callback:function(t){e.$set(e.mile,"date",t)},expression:"mile.date"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","px-md-4":""}},[t(Se.Z,{attrs:{items:e.transactionTypes,"item-text":e=>e.title,label:e.text.TRANSACTION[e.lang],"prepend-inner-icon":"mdi-swap-horizontal",rules:[e.rules.required]},model:{value:e.mile.type,callback:function(t){e.$set(e.mile,"type",t)},expression:"mile.type"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","pl-md-4":""}},[t(Se.Z,{attrs:{items:e.airlines,"item-text":e=>e.title,label:e.text.AIRLINE[e.lang],"prepend-inner-icon":"mdi-airplane",rules:[e.rules.required]},model:{value:e.mile.airline,callback:function(t){e.$set(e.mile,"airline",t)},expression:"mile.airline"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","pr-md-4":""}},[t("number-field",{attrs:{label:e.text.QUANTITY[e.lang],icon:"mdi-numeric"},model:{value:e.mile.quantity,callback:function(t){e.$set(e.mile,"quantity",e._n(t))},expression:"mile.quantity"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","px-md-4":""}},[t("currency-field",{attrs:{label:e.text.PRICE[e.lang]},model:{value:e.mile.price,callback:function(t){e.$set(e.mile,"price",t)},expression:"mile.price"}})],1),t(c.Z,{attrs:{xs12:"",md4:"","pl-md-4":""}},[t("span",[e._v(e._s(e.text.COST_PER_THOUSAND[e.lang]))]),t("p",{staticClass:"text-right mr-2",staticStyle:{"font-size":"18px"}},[t("b",[e._v(e._s(e._f("formatedMoney")(e.mile.costPerThousand())))])])]),e.isEditing?e._e():t(c.Z,[t(_e.Z,{attrs:{label:e.text.KEEP_ADDING[e.lang]},model:{value:e.keepAddingPoint,callback:function(t){e.keepAddingPoint=t},expression:"keepAddingPoint"}})],1)],1)],1)],1),t(ve.h7,[t(c.Z,{staticClass:"d-flex"},[t(h.Z),t(o.Z,{staticClass:"mr-4",attrs:{color:"primary"},on:{click:e.toggleSave}},[e._v(e._s(e.text.SAVE[e.lang]))]),t(o.Z,{attrs:{outlined:""},on:{click:e.toggleCancel}},[e._v(e._s(e.text.CANCEL[e.lang]))])],1)],1)],1)],1),t("message",{attrs:{title:e.titleMessage,message:e.descriptionMessage,"confirm-callback":e.actionConfirmMessage,"hide-secondary-button":e.hideSecondaryButton,"descripton-primary-button":e.descriptionPrimaryButton},model:{value:e.openMessage,callback:function(t){e.openMessage=t},expression:"openMessage"}}),t(Te.Z,{attrs:{fixed:""}},[t(c.Z,{staticClass:"px-md-6",attrs:{xs12:""}},[t(c.Z,{staticClass:"d-flex flex-column"},[t("span",[t("b",{staticClass:"primary-color"},[e._v(e._s(e.text.SUMMARY[e.lang]))])]),t(c.Z,{staticClass:"d-flex pl-md-4"},[t(c.Z,{staticClass:"d-flex flex-column"},[t("span",[e._v(e._s(e.text.TOTAL_MILES[e.lang]+":")+" "+e._s(e._f("formatedThousand")(e.totalMiles)))]),t("span",[e._v(e._s(e.text.TOTAL_VALUE[e.lang]+":")+" "+e._s(e._f("formatedMoney")(e.totalPrice)))]),t("span",[e._v(e._s(e.text.AVERAGE_COST_PER_MILES[e.lang]+":")+" "+e._s(e._f("formatedMoney")(e.totalCostPerThousand)))])])],1)],1)],1)],1)],1)},xt=[],vt={name:"MilesView",components:{DatePicker:De,CurrencyField:Be,DialogTransfer:nt,NumberField:Je,Message:dt},data(){return{openDialogMiles:!0,openDialogTransfer:!1,showInstallment:!0,keepAddingPoint:!0,isEditing:!1,mile:new me,transactionTypes:ie,transactionType:X,airlines:le,airline:te,rules:{required:e=>!!e||"Required."},valid:!0,headers:ae,miles:[],titleMessage:void 0,descriptionMessage:void 0,openMessage:!1,actionConfirmMessage:void 0,actionCancelMessage:void 0,hideSecondaryButton:!1,descriptionPrimaryButton:void 0,text:_,lang:P()}},filters:{formatedMoney(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2})||0},formatedThousand(e){return e.toLocaleString({minimumFractionDigits:0,maximumFractionDigits:0})||0}},beforeMount(){let e=S.get(b.MILES.key);e&&e.map((e=>this.miles.push(new me(e))))},methods:{toggleSave(e){if(e.preventDefault(),this.$refs.form.validate()){if(this.isEditing){let e=this.miles.findIndex((e=>e.id==this.mile.id));this.miles.splice(e,1,this.mile)}else this.mile.id=this.miles.length,this.miles.push(this.mile);this.mile=new me,this.openDialogMiles=!this.isEditing&&this.keepAddingPoint,this.isEditing=!1,this.resetValidation()}},toggleCancel(){this.openDialogMiles=!1,this.mile=new me,this.isEditing=!1,this.resetValidation()},toggleDelete(e){if(e.type==X.ENTRY_BY_TRANSFER.value)return this.titleMessage=this.text.CANT_DELETE_MILES_FROM_POINTS[this.lang],this.descriptionMessage=this.text.DELETE_BY_POINTS_PAGE[this.lang],this.hideSecondaryButton=!0,this.descriptionPrimaryButton="OK",this.openMessage=!0,void(this.actionConfirmMessage=this.clearMessage);this.mile=new me(e),this.titleMessage=this.text.DETELE_MILES[this.lang],this.descriptionMessage=this.text.ARE_YOU_SURE[this.lang],this.openMessage=!0,this.actionConfirmMessage=this.deleteItem},addMile(){this.openDialogMiles=!0},editMile(e){if(e.type==X.ENTRY_BY_TRANSFER.value)return this.titleMessage=this.text.CANT_EDIT_TRANSFER_FROM_POINTS[this.lang],this.descriptionMessage=this.text.DELETE_BY_POINTS_PAGE[this.lang],this.hideSecondaryButton=!0,this.descriptionPrimaryButton="OK",this.openMessage=!0,void(this.actionConfirmMessage=this.clearMessage);this.openDialogMiles=!0,this.isEditing=!0,this.$nextTick((()=>this.mile=new me(e)))},deleteItem(){this.miles=this.miles.filter((e=>e.id!==this.mile.id)),this.mile=new me},onCancelDelete(){this.mile=new me},addSell(){this.openDialogTransfer=!0},updateInstallmentValue(){0!=this.mile.totalPrice&&0!=this.mile.installmentNumber?this.mile.installmentValue=Number((this.mile.totalPrice/this.mile.installmentNumber).toFixed(2)):this.mile.installmentValue=0},resetValidation(){this.valid=!0,this.$refs.form.resetValidation()},applyTransfer(e){this.miles.push(new me({id:this.miles.length,date:e.date,type:X.TRANSFER.value,quantity:e.quantity,totalPrice:e.totalPrice}))},clearMessage(){this.titleMessage=void 0,this.descriptionMessage=void 0,this.hideSecondaryButton=!1,this.descriptionPrimaryButton=void 0}},computed:{totalMiles(){return this.miles.length?this.miles.reduce(((e,t)=>e+t.quantity),0):0},totalPrice(){return this.miles.length?this.miles.reduce(((e,t)=>e+t.price),0):0},totalCostPerThousand(){return this.miles.length?this.miles.reduce(((e,t)=>e+t.costPerThousand()),0):0},averageCostPerThousand(){return this.miles.length?Number((this.totalPrice/this.totalMiles*1e3).toFixed(2)):0},averageCostPerThousandBonus(){return this.averageCostPerThousand/2}},watch:{miles(){S.save(b.MILES.key,this.miles)},"mile.installmentNumber"(){this.updateInstallmentValue()},"mile.totalPrice"(){this.updateInstallmentValue()},openDialogMiles(e){e&&(this.valid=!0,this.keepAddingPoint=!!S.get(b.CONFIGURATIONS.KEEP_ADDING.MILES.key),this.$nextTick((()=>this.mile.date=oe()().format("YYYY-MM-DD"))))},keepAddingPoint(e){S.save(b.CONFIGURATIONS.KEEP_ADDING.MILES.key,!!e)}}},_t=vt,yt=(0,Z.Z)(_t,gt,xt,!1,null,"3d2bd842",null),bt=yt.exports;a.ZP.use(q.ZP);const Tt=[{path:"/",name:"dashboard",component:ge},{path:"/points",name:"points",component:ft},{path:"/miles",name:"miles",component:bt}],Et=new q.ZP({mode:"history",base:"/miles/",routes:Tt});var St=Et,Nt=s(8986),Pt=s(6403);a.ZP.use(Nt.Z);var Ct=new Nt.Z({theme:{dark:!0,themes:{light:{primary:Pt.Z.red.darken1,secondary:Pt.Z.red.lighten4,accent:Pt.Z.indigo.base},dark:{primary:Pt.Z.orange.darken1,secondary:Pt.Z.orange.lighten5,accent:Pt.Z.indigo.base}}}}),At=s(9178),Zt=s.n(At),Mt=s(9278);a.ZP.config.productionTip=!1,a.ZP.use(Zt()),a.ZP.use(Mt.ZP),new a.ZP({router:St,vuetify:Ct,render:e=>e(Y)}).$mount("#app")},9592:function(e,t,s){"use strict";e.exports=s.p+"img/br2.e124af19.png"},7109:function(e,t,s){"use strict";e.exports=s.p+"img/us.d16704e9.png"}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,n){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],n=e[c][2];for(var r=!0,o=0;o<a.length;o++)(!1&n||l>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[o])}))?a.splice(o--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,i,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/miles/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,n,l=a[0],r=a[1],o=a[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(o)var c=o(s)}for(t&&t(a);u<l.length;u++)n=l[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},a=self["webpackChunkmymiles"]=self["webpackChunkmymiles"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(5643)}));a=s.O(a)})();
//# sourceMappingURL=app.c51eec33.js.map